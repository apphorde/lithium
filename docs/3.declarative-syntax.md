# Declarative Component Syntax

Now that we know how to create components, let's agree upon a template syntax for property updates and event handlers.

## How to render text with variables

Use two curly brackets to mark text areas to replace with variables:

```html
<div>Hello, {{ name }}!</div>
```

### How to bind a property to a value?

Add `bind-` prefix to a property name and an expression in the attribute to evaluate.
For properties that need `camelCase` syntax, like `innerText`, use a dash format instead: `inner-text`.
Acronyms like `inner-html` and `base-url` also work.

```html
<tag bind-property="expression">
```

### How to bind an attribute to a value?

The same way you bind a property:

`attr-name="expression"`

### How can I add/remove a CSS class based on a condition?

Add the class name after the `class-` prefix to add/remove it based on the value of an expression

```html
<div class-font-bold="booleanValue"></div>
```

> Note: invalid attribute name characters cannot be used for class bindings. `class-w-1/3` will not work well here.

### How to listen to an event

Any HTML element allows us to add event handlers [with the `on` prefix](https://developer.mozilla.org/en-US/docs/Web/Events/Event_handlers#using_onevent_properties) added to it. `onclick` and `onkeyup` are a few examples. On the Javascript side we can use [`.addEventListener`](https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener) to attach a handler with a few more options.

We can still use these handlers, even with [custom events](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent), but there's one problem: the event handlers must be valid JS and functions often must be created in the global scope.

Instead, let's attach to an event with the `on-` prefix.
The event handler will now be linked to the custom element (or a context) currently executing.

Event flags can be added after the event name, separated with a dot. These flags are a handy way to add extra information to an event listern _in the template_.

Two arguments are passed to every event handler: `$event` and `$flags`.

Use the `stop` flag to call `.stopPropagation()`, and `prevent` to call `.preventDefault()` in the event.

```html
<custom-form on-submit.prevent="handleSubmit($event)"></custom-form>
```

Native [Event API options](https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#options) like `capture` and `once` can be also set with flags. Or you can add any custom flag you wish to use.

Here we call `onButtonClick(mouseEvent, { prevent: true, primary: true })`:w

```html
<button on-click.prevent.primary="onButtonClick($event, $flags)">OK</button>
```

### How to reference a template child node?

This happens in two parts:

- Template side:

```html
<div ref="refName"></div>
```

- Setup function side:

```js
import { ref } from "@li3/web";

function setup() {
  const refName = ref();
  return { refName };
}
```
